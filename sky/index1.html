<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="8thwall:package" content="@8thwall.xrextras" />
    <title>Sky Effects</title>

    <!-- We've included a slightly modified version of A-Frame, which fixes some polish concerns -->
    <script src="./../xr_st/8frame-1.4.1.min.js"></script>

    <!-- XR Extras - provides utilities like load screen, almost there, and error handling.
         See github.com/8thwall/web/tree/master/xrextras -->
    <script src="./../xr_st/xrextras.js"></script>

    <!-- Landing Pages - see https://www.8thwall.com/docs/web/#landing-pages -->
    <script src='./../xr_st/landing-page.js'></script>

    <!-- Coaching Overlay - see https://www.8thwall.com/docs/web/#sky-effects-coaching-overlay -->
    <script src='./../xr_st/coaching-overlay.js'></script>

    <!-- 8th Wall Web - Replace the app key here with your own app key -->
    <script async src="./../xr_st/xr.js" data-preload-chunks="slam"></script>
    <script src="//cdn.8thwall.com/web/aframe/aframe-extras-7.2.0.min.js"></script>
    <script src="./sky-recenter.js"></script>
  </head>

  <body>
    <a-scene 
        xrextras-loading
        xrextras-runtime-error
        landing-page
        sky-coaching-overlay
        sky-recenter
        renderer="colorManagement: true"
        xrlayers>
        
      <a-assets>
        <a-asset-item id="legoModel" src="./lego_star_destroyer.glb"></a-asset-item>
        <img id="skyTexture" src='./space.png'>
      </a-assets>

        <a-camera position="0 3 0"></a-camera>
        
        <a-entity xrlayerscene="name: sky; edgeSmoothness: 0.6">
            <a-sky material="src: #skyTexture; transparent: true; opacity: 1;"></a-sky>

            <a-entity
               id="model"
               gltf-model="#legoModel"
               position="1 3 -15"
               scale="0.15 0.15 0.15"
               shadow="receive: false"
               animation-mixer>
            </a-entity>

            <!--a-box 
                position="0 10 -10"
                scale="5 5 5"
                material="
                color: #AD50FF; shader: flat; 
                src: https://cdn.8thwall.com/web/assets/cube-texture.png"
                shadow>
            </a-box-->
            <a-entity light="type: ambient; intensity: 1;"></a-entity>
        </sky-scene>
    </a-scene>
  </body>
</html>
